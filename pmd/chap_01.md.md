
# Κεφ 1: Εισαγωγή

Από την εισαγωγή του Bitcoin το 2008 με την εμβληματική δημοσίευση "Bitcoin: A Peer-to-Peer Electronic Cash System" [@BITCOIN],
το ενδιαφέρον για συστήματα κρυπτονομισμάτων έχει αυξηθεί με ταχύτατο ρυθμό.
Αναμφισβήτητα από το πιο δημοφιλή τέτοια έργα είναι το Ethereum blockchain [@YP] με βασικό χαρακτηριστικό του τη δυνατότητα εκτέλεσης σύντομων προγραμμάτων γνωστών ως Έξυπνα Συμβόλαια (Smart Contracts), προσφέροντας τις ίδιες εγγυήσεις ασφαλείας με της απλές συναλλαγές μεταφοράς αξίας (value-transfer transactions).
Αυτό ακριβώς το χαρακτηριστικό ήταν ο κινητήριος παράγοντας πίσω από την τεράστια αύξηση της δημοτικότητάς του, όπως και του όγκου των συναλλαγών [@TXCHART]. Ωστόσο, όπως αποδεικνύεται στα χρόνια που προηγήθηκαν της παρούσας εργασίας, εξακολουθεί να αγωνίζεται για να καλύψει τη ζήτηση για υψηλότερη απόδοση (thoughput), με αποτέλεσμα οι προμήθειες συναλλαγών να είναι πολλή υψηλές [@TXFEES].

Η απόδοση του συστήματος είναι περιορισμένη ώστε να επιτρέπεται σε όλους τους συμμετέχοντες να παραμένουν συγχρονισμένοι με το δίκτυο.
Ενώ οι υπάρχοντες κόμβοι δεν έχουν κανένα πρόβλημα με τις τρέχουσες απαιτήσεις, νέοι (πλήρεις) κόμβοι που εισάγονται στο δίκτυο πρέπει πρώτα να συγχρονιστούν μέχρι το πιο πρόσφατο block, εκτελώντας τις συναλλαγές ολόκληρου του blockchain από το πρώτο block, μια χρονοβόρα διαδικασία που επιβραδύνει την έρευνα και ανάπτυξη πάνω στο blockchain του.

## Κίνητρο και συναφείς προσεγγίσεις

Το επίσημο λογισμικό (client) για το δίκτυο του Ethereum, το **Go-ethereum** ή **geth** [@GETH], ακολουθεί πιστά την επίσημη περιγραφή του [@YP] δίνοντας έμφαση σε ορθότητα και feature richness [@CITATION] με αποτέλεσμα να έχει μεγάλες απαιτήσεις σε χωρητικότητα και ταχύτητα αποθηκευτικού μέσου (storage capacity και I/O). Για παράδειγμα, είναι πια αδύνατη η εκτέλεσή του με σκληρό δίσκο [@GETHFAQ] λόγω της χαμηλής ταχύτητάς τους σε τυχαίες προσβάσεις (random I/O).
Διάφορες εργασίες [@RAINBLOCK; @ERIGON] έχουν προσπαθήσει και επιτύχει σε μεγάλο βαθμό να βελτιώσουν την απόδοσή του,
χρησιμοποιώντας διαφορετικές δομές δεδομένων για πιο αποδοτική αποθήκευση των δεδομένων του.
Επίσης, έχει εξεταστεί η δυνατότητα παραλληλοποίησης της εκτέλεσή του τόσο με μεθόδους αισιόδοξης ταυτόχρονης εκτέλεσης (optimistic concurrent execution) [@ESSCE; @EFOCESC; @ACSC] όσο και με ντετερμινιστικό τρόπο, υποθέτωντας επιπλέον γνώση των συγκρούσεων (conflicts) μεταξύ των transaction [@OTPE; @EFOCESC; @ACSC]. Στην τελευταία περίπτωση προτείνονται κάποιες επεκτάσεις και αλλαγές στο πρωτόκολλο του Ethereum για να υποστηρίζονται αυτές οι μέθοδοι.
Άλλες προσπάθειες επικεντρώνονται στην επιτάχυνση από πλευράς ? χρόνου επεξεργαστή ? (cpu-time) με τη συγγραφή client σε άλλη γλώσσα από την Go, όπως σε Rust [@PARITY, ? ΆΛΛΕΣ ?] ή C++ [@SILKWORM, ? ΆΛΛΕΣ ?].
Τέλος, έχει δοθεί και λίγη έμφαση στην εφαρμογή προανάκτησης (prefetching) με προ-εκτέλεση (pre-execution) των Smart Contracts [@RAINBLOCK; @GETHPREFETCH], χωρίς όμως ξεχωριστή μελέτη της συγκεκριμένης μεθόδου.

Αξίζει να αναφερθεί και η σταδιακή εισαγωγή ενός συνόλου βελτισεων στο Ethereum [@ETH2], προηγουμένως γνωστό και ως Ethereum 2.0, το οποίο επιδιώκει μεγάλες βελτιώσεις στην ταχύτητα του συνολικού δικτύου, κάνοντας σημαντικές αλλαγές στην αρχιτεκτονική του, οι οποίες δεν είναι συμβατές με το τωρινό. Ακόμα και αυτή η έκδοση όμως, θα συνεχίσει να χρησιμοποιεί την ίδια βάση για την εκτέλεση των συναλλαγών (execution layer), που σημαίνει ότι οι προαναφερθείσες εργασίες και η παρούσα διπλωματική συνεχίζουν να έχουν ισχύ σε αυτό το τμήμα του.

## Αντικείμενο της διπλωματικής

Η διπλωματική αυτή εκτελείται με την τελευταία αυτή μέθοδο, της προανάκτησης, βασιζμένη στον Erigon client [@ERIGON],
υλοποιώντας ένα νέο σύστημα ανάλυσης του κώδικα των contracts και σύνθεση απλούστερου με αποκλειστικό σκοπό την εκτέλεσή του για προανάκτηση.
Η μέθοδος αυτή δεν απαιτεί αλλαγές στην επικοινωνία μεταξύ των συμμετεχόντων, ή στον ορισμό (specification) του Ethereum [@YP] του
και επομένως μπορεί να υποστηρίζεται από καθένα client ξεχωριστά.


\begin{figure}[!htbp]
  \centering
  \includesvg[inkscapelatex=false,width=\textwidth]{../main/Overview.svg}
  \caption{Υψηλού επιπέδου όψη του συστήματος, όπως θα αναλυθεί στο κεφάλαιο 4.}
\end{figure}


## Οργάνωση του κειμένου

Η διπλωματική εργασία αποτελείται από 8 Κεφάλαια.

- Στο Κεφάλαιο 1 γίνεται η εισαγωγή του θέματος που εξετάζεται.
- Στο Κεφάλαιο 2 θα γίνει μια γενική επεξήγηση των συστημάτων αλυσήδων κοινοποιήσεων (blockchain).

- Στο Κεφάλαιο 3 αναλύεται η αρχιτεκτονική και υλοποιήσεις λογισμικού για Ethereum,
εξετάζοντας τους 2 πιο δημοφιλείς clients [@ETHERNODES], τον Go-ethereum και τον Erigon.
Δίνεται περισσότερη έμφαση στο επίπεδο αποθήκευσης και των δομών δεδομένων τους.

- Στο Κεφάλαιο 4 περιγράφεται από ένα υψηλό επίπεδο η αρχιτεκτονική του συστήματος προανάκτησης.
Αναφέρονται επίσης οι σχεδιαστικές επιλογές που έγιναν και περιορισμοί που τέθηκαν για τη συμπεριφορά του.

- Στο Κεφάλαιο 5 παρουσιάζεται αναλυτικά η υλοποίηση του συστήματος. Αναλύονται χωριστά τα κομμάτια από τα οποία
αποτελείται, όπως περιγράφεται στο κεφάλαιο 4.

- Στο Κεφάλαιο 6 περιγράφεται η διαδικασία με την οποία διεκπεραιώθηκαν οι δοκιμές και μετρήσεις (benchmarking).
Αναφέρονται τα χαρακτηριστικά του υλισμικού (hardware) και οι παραμετεροποιήσεις (configuration) του συστήματος.
Επίσης περιγράφεται ο τρόπος με τον οποίο πάρθηκαν οι μετρήσεις, καθώς και μια απλή εκτίμηση της ακρίβειάς τους.

- Στο Κεφάλαιο 7 παρουσιάζονται τα αποτελέσματα των μετρήσεων και γίνεται μια σύντομη αξιολόγηση του συστήματος.

- Στο Κεφάλαιο 8 συνοψίζονται τα αποτελέσματα και παραθέτονται κάποια βασικά συμπεράσματα. Γίνεται επίσης
αναφορά και στις δυνατότητες που δημιουργούνται για επεκτάσεις και μελλοντική έρευνα πάνω στο θέμα.
