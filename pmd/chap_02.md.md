
# Συστήματα αλυσήδων κοινοποιήσεων

Το κεφάλαιο αυτό περιέχει τις βασικές πληροφορίες που χρειάζονται στην υπόλοιπη εργασία.
Το επόμενο κεφάλαιο με την ανάλυση σε βάθος να μπορεί να προσπεραστεί.

## Σύντομο θεωρητικό υπόβαθρο

Οι αλυσίδες κοινοποιήσεων (blockchain), που θα εξεταστούν στα πλαίσια της εργασίας, υλοποιούν ψηφιακά λογιστικά βιβλία (ledgers).
Αποτελούνται από μπλοκ εγγραφών (block) τα οποία συνδέονται μεταξύ τους (με κρυπτογραφικές μεθόδους) σε μορφή απλά συνδεδεμένης λίστας.
Τα block περιέχουν συναλλαγές (transaction) και κάθε νέο block τοποθετείται αυστηρά μετά το πιο πρόσφατο, χωρίς να υπάρχει η δυνατότητα αλλαγή κάποιου προηγούμενου ή των περιεχομένων του (append only). Σε περίπτωση ύπαρξης δύο ή περισσότερων block που συνδέονται στο ίδιο προηγούμενο block, ένας κατανεμημένος αλγόριθμος συμφωνίας (consensus) επιλέγει ποιο απ' αυτά θα κρατηθεί.

Δύο απ' τις κατηγορίες στις οποίες διακρίνονται οι ledger που υλοποιούν είναι:

- Οι βασισμένοι σε αξόδευτες εξόδους συναλλαγών (Unspent Transaction Outputs, UTXO), όπως το Bitcoin [@BITCOIN]. Σε αυτή την κατηγορία οι συναλλαγές έχουν εισόδους και εξόδους με τις μελλοντικές συναλλαγές χρησιμοποιούν εξόδους παλαιότερων ως είσοδο, υπό την προϋπόθεση ότι κάθε έξοδος χρησιμοποιήται το πολύ μία φορά και το άθροισμα των ποσών των εισόδων ισούται με αυτό των εξόδων.
- Οι βασισμένοι σε λογαριασμούς (accounts), όπως το Ethereum [@YP]. Σε αυτή των κατηγορία διατηρείται για κάθε λογαριασμό το μη-αρνητικό υπόλοιπό του. Οι λογαριασμού προσδιορίζονται από τη διεύθυνσή τους (address).

## Έξυπνα συμβόλαια (smart contracts)

Πέραν της εκτέλεσης transaction για τη μεταφορά αξίας, ορισμένα blockchain κρυπτονομισμάτων παρέχουν τη δυνατότητα εκτέλεσης έξυπνων συμβολαίων.
Στα πλαίσια της παρούσας εργασίας θα ασχοληθούμε αποκλειστικά με το Ethereum που υποστηρίζει αυτή τη δυνατότητα.

Τα έξυπνα συμβόλαια δημιουργούνται από τους χρήστες εξωτερικά του blockchain και εγκαθίστανται σε αυτό με ένα transaction δημιουργίας συμβολαίου (contract creation). Έτσι, ο κώδικας των συμβολαίων δεν βρίσκεται μέσα στον κώδικα του λογισμικού που χρησιμοποιούν οι συμμετάσχοντες στο δίκτυο. Μετά τη δημιουργία του, ένα συμβόλαιο μπορεί να χρησιμοποιηθεί κάνωντας άλλα transaction τα οποία προορίζονται στη διεύθυνσή του. Επιπλέον, ένα συμβόλαιο έχει τη δυνατότητα να χρησιμοποιεί και άλλα υπάρχοντα συμβόλαια, κάνοντας κλήσεις (message calls) σε αυτά. Η διαδικασία αυτή απεικονίζεται στο σχήμα 3.1 και περιγράφεται στην παράγραφο 3.1.3 του επόμενου κεφαλαίου.

Η αρχιτεκτονική στην οποία βασίζονται είναι το EVM (Ethereum Virtual Machine), η οποία είναι turing complete και βασίζεται σε μοντέλο μηχανής στοίβας (stack machine). Η αρχιτεκτονική αυτή καθορίζει για κάθε συμβόλαιο, αποκλειστικό μη-πτητικό αποθηκευτικό χώρο, πρακτικά απεριόριστο ($ 2^{256} \cdot 32 $ Byte).

Το σύνολο των λογαριασμών, των συμβολαίων και των αποθηκευτικών τους χώρων ονομάζεται *World State* και θα το αναφέρεται απλά ως state.
